<!DOCTYPE html>
<html>
<head>
	<title>Simple Map111</title>
	<meta name="viewport" content="initial-scale=1.0"></meta>
	<meta charset="utf-8"></meta>
	<link rel="stylesheet" href="/static/style.css"></link>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.1/Chart.js"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"></link>
	<!-- Latest compiled and minified JavaScript -->
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<!-- Select 2 -->

	<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
	<script>

		function init()  {
			var data = {
				labels:  ['pomegran', 'yogurt', 'kabob', 'ice', 'cream', 'grill','pizza', 'mozzarella', 'pasta', 'panini', 'calamari', 'fri','downtown', 'taco', 'bacon', 'steak', 'water', 'music',],
				datasets:  [
					{
						label: 'Negative',
						fillColor: '#382765',
						data: [10, 10, 16, 13, 8, 5,7, 7, 6, 5, 4, 5,4, 2, 5, 4, 3, 2],
						backgroundColor: [
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)',
							'rgba(255,0, 0, 0.2)'
						]
					},
					{
						label: 'netuar',
						fillColor: '#7BC225',
						data: [1, 1, 2, 3, 2, 0,0, 0, 0, 0, 0, 1,2, 2, 2, 2, 1, 0],
						backgroundColor: [
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(255, 206, 86, 0.2)'
						]
					},
					{
						label: 'Posetive',
						fillColor: '#7BC225',
						data:  [25, 23, 14,12,17, 21,19, 18,17, 16, 15, 11,11, 11, 7, 6, 1, 2],
						backgroundColor: [
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
							'rgba(0, 225, 0, 0.2)',
						]
					}
				]
			};
			chart_config ={
				type: "bar",
				data: data,
				options: {
					scales: {
						xAxes: [{
							stacked: true
						}],
						yAxes: [{
							stacked: true
						}]
					},
					responsive: false,
					maintainAspectRatio: false,
					// onClick: handleClick,

				}

			};
			var ctx = document.getElementById("myChart").getContext("2d");
			var dw = $('div .modal-content').width()*0.95;
			var dh = $(document).height()*0.5;
			ctx.canvas.width=dw;
			ctx.canvas.height= dh;

			myChart = new Chart(ctx,chart_config);
		}

		function showww() {
			init()

			var latLngA = new google.maps.LatLng(100,100);
			var latLngB = new google.maps.LatLng(101,101);
			a = google.maps.geometry.spherical.computeDistanceBetween (latLngA, latLngB);


			var ctx = document.getElementById("myChart").getContext("2d");;

			//  var myChart = new Chart(ctx,chart_config);

			function handleClick(evt){
				var activeElement = myChart.getElementAtEvent(evt);
				var a = chart_config.data.datasets;
				if (activeElement.length > 0){
					var b = chart_config.data.labels[activeElement[0]._index]

					var d = $('#mydiv').html()
					$('#mydiv').html(b)

				}
			}}

	</script>
	<style>
		html, body {
			height: 100%;
			margin: 0;
			padding: 0;
		}

		.toolbar
		{ height: 20%;
			margin: 0;
			padding: 0;}
	</style>
	<link rel="stylesheet" href="../static/style.css">
</head>

<body>
<nav class="navbar navbar-default">
	<div class="container-fluid">

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">

				<button type="button" class="btn btn-default navbar-btn" onclick="MainControl.GoogleMapHelper.ShowAll()">Show all</button>
				<button type="button" class="btn btn-default navbar-btn" onclick="MainControl.GoogleMapHelper.cleanMap()">Clean Map</button>
			</ul>
			<form class="navbar-form navbar-left">
				<div class="form-group">
					<select class="searchTextBox" style="width: 300px" id="featureSearchList" multiple="multiple">
						<option value="pizza">pizza</option>

						<option value="WY">Wyoming</option>
					</select>
				</div>
				<button type="submit" class="btn btn-default" onclick="seach(); return false;">Search</button>
			</form>
		</div><!-- /.navbar-collapse -->
	</div><!-- /.container-fluid -->
	<script>

	</script>
</nav>
<div class="container-fluid row-max-height" >

	{% block body %}
	{% endblock %}


</div>
<div id="mainPopup"/>
<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="infoDataMainLargeModalLabel" id="infoDataMain">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<span class="close" onclick="$(function () {$('#infoDataMain').modal('toggle');});">x</span>
			<span id="dialogNav"></span>
			<div class="tab-content" style="overflow-y:scroll;height:80%;" id="dialogContent">

			</div>
		</div>
	</div>
</div>

<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="infoFeatureLargeModalLabel" id="infoFeature">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<span class="close" onclick="$(function () {$('#infoFeature').modal('toggle');});">x</span>
			<span id="featureDialogNav"></span>
			<div class="tab-content" style="overflow-y:scroll;height:80%;" id="featureDialogContent">

			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	$(document).ready(function() {
		$("#featureSearchList").select2();
		$('#featureSearchList').select2({dropdownAutoWidth : true});
		$("html").ajaxStart(function () { $(this).addClass("wait"); });
		$("html").ajaxStop(function () { $(this).removeClass("wait"); });

	});
	function seach(){
		var selectedVals = $('#featureSearchList').select2('val');
		FeatureHelper.featureManager.getItemsByFeatures(selectedVals);
	}
</script>

</body>
</html>