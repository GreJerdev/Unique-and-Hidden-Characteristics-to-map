{% extends "layout.html" %}
{% block body %}


<div class="row" style="height: 100%;z-index:-10;">
    <div class="col-md-9" style="height: 100%;">
        <div id="map"></div>
    </div>
    <div class="col-md-3" id="info" style="height:95%;">
        <ul class="nav nav-tabs">
            <li class="active">
                <a data-toggle="tab" href="#homeInfo" title="List of all restaurants' features, that are displaying on the map.">Available Features</a>
            </li>
            <li>
                <input type="text" id="filterAvailableFeaturesText" placeholder="Filter Features" onkeyup="filterAvailableFeatures()" style="margin-top: 17px">
            </li>
         <!--   <li>
                <a data-toggle="tab" href="#features">Features</a>
            </li>-->
        </ul>

        <div class="tab-content" style="height:68%;">
            <div id="homeInfo" class="tab-pane fade in active" style="overflow-y:scroll;height:100%;">

            </div>
            <div id="selectedfeatures" class="tab-pane fade">
            </div>
        </div>
          <ul class="nav nav-tabs">
            <li class="active">
                <a data-toggle="tab" href="#selectedFeatureList">Select Features</a>
            </li>
        </ul>

        <div class="tab-content" style="height:30%;">
            <div id="selectedFeatureList" class="tab-pane fade in active" style="overflow-y:scroll;height:100%;">

            </div>

        </div>
    </div>



    <!-- Trigger the modal with a button -->

    <!-- Modal -->
    <!--<div id="messageBox" class="modal fade" role="dialog">
        <div class="modal-dialog">-->

            <!-- Modal content-->
            <!--<div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" id="messgeHeader" ></h4>
                </div>
                <div class="modal-body" id="messageBody">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>-->
    <script src="/static/scripts/htmlGenerator.js"></script>
    <script src="/static/scripts/featureHelper.js"> </script>
    <script src="/static/scripts/mapcontorl.js"></script>



    <script>
        
        function filterAvailableFeatures() {

            var text = $('#filterAvailableFeaturesText').val();
            var searchTest = text.toLowerCase().replace(/\s/g, '');
            $( "#homeInfo button" ).hide();
            $( "#homeInfo button:contains('"+searchTest+"')" ).show();
        }

        function setFeatures(featuresArray) {
            $("#featureSearchList").html('').select2({data: featuresArray});
        }

        $(function () {
            var featuresList = FeatureHelper.featureManager.getAllFeatures(setFeatures);}) ;
    function init() {
        MainControl.GoogleMapHelper.initMap();
        MainControl.GoogleMapHelper.ShowAll();
    }

    </script>

    <script src="https://maps.googleapis.com/maps/api/js?libraries=geometry&sensor=false&callback=init"
            async defer>

    </script>


    {% endblock %}